<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-translate>Fire & Industrial Hazards</title>
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>

<!-- HEADER / Breadcrumb -->
<!-- HEADER / Breadcrumb -->
<header class="subpage-header">
  <div class="container sub-header-inner">

    <div class="left-side">
      <a href="/index" class="breadcrumb-link" data-translate>â† Back to Modules</a>
      <span class="badge-soft" data-translate>Student Module</span>
    </div>

    <div class="lang-right">
      ğŸŒ
      <select id="langSelect" class="lang-dropdown">
        <option value="en">English</option>
        <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
        <option value="pa">à¨ªà©°à¨œà¨¾à¨¬à©€</option>
      </select>
    </div>

  </div>
</header>

<!-- HERO SECTION -->
<section class="module-hero">
  <div class="container hero-content">

    <!-- LEFT -->
    <div class="hero-left">
      <h1 id="moduleTitle" data-translate>Fire & Industrial Hazards</h1>
      <p id="moduleIntro" data-translate>
        Learn about fire classes, safe extinguisher usage, electrical fire handling, chemical hazards, and
        laboratory safety procedures.
      </p>

      <div class="accessibility-tools">
        <button id="ttsBtn" class="pill-btn">ğŸ”Š Text to Speech</button>
        <button id="ttsStopBtn" class="pill-btn">â›” Stop Reading</button>
        <button id="largeTextBtn" class="pill-btn">Aâ†• Increase Text Size</button>
        <button id="contrastBtn" class="pill-btn">â—‘ High Contrast</button>
      </div>
    </div>

    <!-- RIGHT IMAGE -->
    <div class="hero-right">
      <img src="/assets/fire.jpg" class="hero-img" alt="Fire Safety">
    </div>

  </div>
</section>


<!-- MAIN CONTENT -->
<section class="section">
  <div class="container module-layout">

    <!-- LEFT MAIN CONTENT -->
    <div class="module-main">

<!-- ABOUT FIRE HAZARDS -->
<article class="content-card">
  <h2 data-translate>About Fire Hazards</h2>
  <p data-translate>
    Fires occur when heat, fuel, and oxygen combine â€” known as the â€œFire Triangle.â€ Industrial fires may be
    triggered by chemicals, gases, electrical faults, machinery overheating, or human errors.
  </p>
  <p data-translate>
    Understanding fire behavior and types is essential for safe evacuation and extinguishing.
  </p>
</article>

<!-- FIRE CLASSES -->
<article class="content-card">
  <h2 data-translate>Fire Classes</h2>
  <ul>
    <li data-translate><strong>Class A:</strong> Solid materials (wood, paper, cloth).</li>
    <li data-translate><strong>Class B:</strong> Flammable liquids (oil, petrol, paints).</li>
    <li data-translate><strong>Class C:</strong> Flammable gases (LPG, CNG, methane).</li>
    <li data-translate><strong>Class D:</strong> Metals (magnesium, sodium, potassium).</li>
    <li data-translate><strong>Class K:</strong> Kitchen oils & grease fires.</li>
  </ul>
</article>

<!-- EXTINGUISHER USAGE -->
<article class="content-card">
  <h2 data-translate>Fire Extinguisher Usage</h2>
  <p data-translate>Use the <strong>P.A.S.S.</strong> technique:</p>
  <ul>
    <li data-translate><strong>P</strong> â€“ Pull the pin.</li>
    <li data-translate><strong>A</strong> â€“ Aim at the base of fire.</li>
    <li data-translate><strong>S</strong> â€“ Squeeze the handle.</li>
    <li data-translate><strong>S</strong> â€“ Sweep side to side.</li>
  </ul>
  <p data-translate>
    Water extinguishers should NOT be used on electrical or oil fires.
  </p>
</article>

<!-- ELECTRICAL FIRE HANDLING -->
<article class="content-card">
  <h2 data-translate>Handling Electrical Fires</h2>
  <ul>
    <li data-translate>Turn OFF the main electricity supply immediately.</li>
    <li data-translate>Use only COâ‚‚ or Dry Chemical Powder (DCP) extinguishers.</li>
    <li data-translate>Do NOT use water â€” risk of electrocution.</li>
    <li data-translate>Move away from live wires and metal bodies.</li>
  </ul>
</article>

<!-- INDUSTRIAL & LAB SAFETY -->
<article class="content-card">
  <h2 data-translate>Industrial & Laboratory Safety</h2>
  <ul>
    <li data-translate>Wear proper PPE â€” gloves, goggles, masks, lab coats.</li>
    <li data-translate>Store chemicals in labeled, sealed containers.</li>
    <li data-translate>Do not mix chemicals without guidance.</li>
    <li data-translate>Ensure good ventilation in labs/workshops.</li>
    <li data-translate>Know emergency shower & eye-wash locations.</li>
    <li data-translate>Report strong smells, leaks, or spills immediately.</li>
  </ul>
</article>

<!-- HELPING OTHERS -->
<article class="content-card">
  <h2 data-translate>How to Help Others During a Fire</h2>
  <ul>
    <li data-translate>Guide others to fire exits calmly.</li>
    <li data-translate>Help children, elderly, and injured people evacuate.</li>
    <li data-translate>Close doors behind you to slow smoke spread.</li>
    <li data-translate>Call emergency services â€” do not assume someone else has.</li>
  </ul>
</article>

<!-- SIGN LANGUAGE -->
<article class="content-card">
  <h2 data-translate>Sign Language Support</h2>
  <video controls muted class="sign-video">
    <source src="/assets/Fire_SL.mp4" type="video/mp4" />
  </video>
  <p class="media-caption" data-translate>Sign language explanation for fire safety.</p>
</article>

    </div>



    <!-- RIGHT SIDEBAR -->
    <aside class="module-side">

      <!-- ANIMATION -->
      <article class="content-card">
        <h2 data-translate>Animation</h2>
        <video src="/assets/Fire_Animation.mp4" autoplay muted loop></video>
        <p class="media-caption" data-translate>How fires spread and how to extinguish safely.</p>
      </article>

      <!-- QUICK SUMMARY -->
      <article class="content-card">
        <h3 data-translate>Quick Summary</h3>
        <ul>
          <li data-translate>Fire Classes Aâ€“K</li>
          <li data-translate>PASS extinguishing method</li>
          <li data-translate>Electrical fire response</li>
          <li data-translate>Industrial & lab safety rules</li>
        </ul>
      </article>

      <!-- EMERGENCY CHECKLIST -->
      <article class="content-card">
        <h3 data-translate>Emergency Checklist</h3>
        <ul>
          <li data-translate>Fire extinguisher</li>
          <li data-translate>Emergency numbers</li>
          <li data-translate>Smoke mask/cloth</li>
          <li data-translate>First-aid kit</li>
          <li data-translate>Important documents</li>
        </ul>
      </article>

      <!-- DOs AND DON'Ts -->
      <article class="content-card">
        <h3>Fire Doâ€™s & Donâ€™ts</h3>
        <ul>
          <li data-translate>âœ” Use COâ‚‚/DCP for electrical fires</li>
          <li data-translate>âœ” Stay low to avoid smoke</li>
          <li data-translate>âŒ Never use water on oil fires</li>
          <li data-translate>âŒ Do NOT block fire exits</li>
        </ul>
      </article>

    </aside>

  </div>
</section>



<!-- QUIZ SECTION (Left = Quiz, Right = Chart/Map) -->
<section class="quiz-section">
  <div class="container quiz-grid">

    <!-- QUIZ LEFT -->
    <div class="quiz-left">
      <h2 data-translate>Quick Quiz</h2>
      <p data-translate>Check what you learned from this module.</p>

      <form id="quizForm" class="quiz-form">

        <div class="quiz-question">
          <p data-translate>1. Which extinguisher is safe for electrical fires?</p>
          <label><input type="radio" name="q1" value="a"> Water extinguisher</label>
          <label><input type="radio" name="q1" value="b"> COâ‚‚ or DCP extinguisher</label>
          <label><input type="radio" name="q1" value="c"> Foam extinguisher</label>
        </div>

        <div class="quiz-question">
          <p data-translate>2. What does PASS stand for?</p>
          <label><input type="radio" name="q2" value="a"> Pushâ€“Aimâ€“Sprayâ€“Stop</label>
          <label><input type="radio" name="q2" value="b"> Pullâ€“Aimâ€“Squeezeâ€“Sweep</label>
          <label><input type="radio" name="q2" value="c"> Pullâ€“Alertâ€“Stopâ€“Spray</label>
        </div>

        <div class="quiz-question">
          <p data-translate>3. What should you NEVER do during a fire?</p>
          <label data-translate><input type="radio" name="q3" value="a"> Use elevators</label>
          <label data-translate><input type="radio" name="q3" value="b"> Help others evacuate</label>
          <label data-translate><input type="radio" name="q3" value="c"> Crawl under smoke</label>
        </div>

        <button type="submit" class="submit-quiz-btn" data-translate>Submit Quiz</button>
      </form>

      <p id="quizResult" class="quiz-result"></p>
    </div>

    <!-- RIGHT: FIRE CLASS CHART -->
    <div class="quiz-right">
      <article class="content-card">
        <h3 data-translate>Fire Hazard Classes Chart</h3>
        <img src="/assets/Bhopal_Image.avif" class="map-img" alt="Fire Classes Chart">
        <p class="media-caption">Bhopal Case.</p>
      </article>
    </div>

  </div>
</section>

<script src="/js/module.js"></script>


<!-- Translation-->
 <script>
async function fetchTranslation(text, lang) {
    const url = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(text)}&langpair=en|${lang}`;
    const res = await fetch(url);

    if (!res.ok) throw new Error("Translation failed: " + res.status);

    const data = await res.json();
    return data.responseData?.translatedText || text;
}

async function translatePage(lang) {
    const elements = document.querySelectorAll("[data-translate]");

    document.body.style.opacity = "0"; // hide page safely

    let cache = {};
    try {
        cache = JSON.parse(localStorage.getItem("translations_" + lang)) || {};
    } catch {
        cache = {};
    }

    const tempResults = {};

    try {
        // translate all text in advance
        for (let el of elements) {
            const original = el.getAttribute("data-original") || el.innerText;
            el.setAttribute("data-original", original);

            if (!cache[original]) {
                cache[original] = await fetchTranslation(original, lang);
            }

            tempResults[original] = cache[original];
        }

        // save updated translations
        localStorage.setItem("translations_" + lang, JSON.stringify(cache));

        // apply all translations at once
        for (let el of elements) {
            const original = el.getAttribute("data-original");
            el.innerText = tempResults[original];
        }
    } catch (err) {
        console.error("Translation error:", err);
        alert("Translation failed, showing original text.");

        // fallback â†’ restore English
        for (let el of elements) {
            const original = el.getAttribute("data-original");
            if (original) el.innerText = original;
        }
    } finally {
        // make page visible ALWAYS
        document.body.style.opacity = "1";
    }
}

document.getElementById("langSelect").addEventListener("change", function () {
    const lang = this.value;

    if (lang === "en") {
        document.querySelectorAll("[data-translate]").forEach(el => {
            el.innerText = el.getAttribute("data-original");
        });
        return;
    }

    translatePage(lang);
});
</script>

</body>
</html>